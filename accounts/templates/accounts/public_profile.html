<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
  <title>{{ profileUser.username }} - Dash Arena</title>
  <style>
    *{box-sizing:border-box;}
    body{font-family:system-ui,sans-serif;margin:0;background:#0d0f1a;color:#e6e6e6;}
    header{background:#121428;border-bottom:1px solid #23264a;padding:16px 24px;display:flex;align-items:center;justify-content:space-between;}
    .brand{font-weight:700;font-size:20px;}
    .nav{display:flex;gap:16px;align-items:center;}
    .coins{background:#2a2f6b;padding:8px 16px;border-radius:20px;font-weight:600;}
    .btn{background:#2a2f6b;color:#fff;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;font-size:14px;text-decoration:none;display:inline-block;}
    .btn:hover{background:#3940a3;}
    .btn-primary{background:#5b7bff;}
    .btn-primary:hover{background:#4a6aef;}
    .container{max-width:900px;margin:24px auto;padding:0 20px;}
    .profile-header{background:#121428;border:1px solid #23264a;border-radius:12px;padding:32px;text-align:center;margin-bottom:24px;}
    .profile-pic{width:120px;height:120px;border-radius:50%;background:#2a2f6b;display:inline-flex;align-items:center;justify-content:center;font-size:48px;margin-bottom:16px;}
    .username{font-size:32px;font-weight:700;margin-bottom:8px;}
    .member-since{color:#9ca3af;font-size:14px;margin-bottom:24px;}
    .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px;}
    .stat-box{background:#1a1d35;padding:20px;border-radius:8px;text-align:center;}
    .stat-value{font-size:32px;font-weight:700;color:#5b7bff;margin-bottom:4px;}
    .stat-label{font-size:14px;color:#9ca3af;}
    .section{background:#121428;border:1px solid #23264a;border-radius:12px;padding:24px;margin-bottom:24px;}
    h2{margin:0 0 16px;font-size:22px;}
  </style>
</head>
<body>
  <header>
    <div class="brand">Dash Arena</div>
    <div class="nav">
      <span class="coins">ðŸ’° {{ currentUserProfile.coins|floatformat:0 }}</span>
      <a href="/" class="btn">Dashboard</a>
    </div>
  </header>

  <div class="container">
    <div class="profile-header">
      <div class="profile-pic">
        {% if profileData.profilePic %}
          <img src="{{ profileData.profilePic.url }}" alt="{{ profileUser.username }}" style="width:100%;height:100%;border-radius:50%;object-fit:cover;">
        {% else %}
          {{ profileUser.username|first|upper }}
        {% endif %}
      </div>
      
      <div class="username">{{ profileUser.username }}</div>
      <div class="member-since">Member since {{ profileData.createdAt|date:"F Y" }}</div>
      
      {% if not isOwnProfile %}
      <div>
        <a href="/chat/messages/{{ profileUser.id }}/" class="btn btn-primary">ðŸ“¨ Send Message</a>
      </div>
      {% endif %}
    </div>

    <div class="section">
      <h2>ðŸ“Š Stats</h2>
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-value">{{ profileData.soloHighScore }}</div>
          <div class="stat-label">Solo High Score</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">{{ profileData.totalWins }}</div>
          <div class="stat-label">Total Wins</div>
        </div>
        <div class="stat-box">
          <div class="stat-value">{{ profileData.totalMatches }}</div>
          <div class="stat-label">Matches Played</div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>