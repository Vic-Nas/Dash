<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Solo Mode - Dash Arena</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:system-ui,sans-serif;background:#0d0f1a;color:#e6e6e6;overflow:hidden;}
    #gameContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;padding:20px;}
    #gameCanvas{border:2px solid #2a2f6b;background:#121428;box-shadow:0 4px 20px rgba(0,0,0,0.5);}
    #hud{position:absolute;top:20px;left:20px;background:rgba(18,20,40,0.9);padding:16px;border-radius:8px;border:1px solid #2a2f6b;min-width:200px;}
    .stat{margin-bottom:8px;font-size:14px;}
    .stat-label{color:#9ca3af;margin-right:8px;}
    .stat-value{color:#fff;font-weight:600;}
    #gameOver{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(18,20,40,0.98);padding:40px;border-radius:12px;border:2px solid #2a2f6b;text-align:center;min-width:400px;}
    #gameOver h2{margin-bottom:16px;font-size:28px;color:#5b7bff;}
    #gameOver .result{margin-bottom:24px;}
    #gameOver .result-item{margin:8px 0;font-size:16px;}
    #gameOver button{background:#2a2f6b;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:15px;margin:0 8px;}
    #gameOver button:hover{background:#3940a3;}
    .controls{margin-top:16px;color:#9ca3af;font-size:13px;}
  </style>
</head>
<body>
  <div id="gameContainer">
    <canvas id="gameCanvas" width="600" height="600"></canvas>
    <div class="controls">Arrow Keys or WASD to change direction â€¢ ESC to quit</div>
  </div>

  <div id="hud">
    <div class="stat">
      <span class="stat-label">Coins:</span>
      <span class="stat-value" id="coins">{{ profile.coins|floatformat:0 }}</span>
    </div>
    <div class="stat">
      <span class="stat-label">Walls Survived:</span>
      <span class="stat-value" id="wallsSurvived">0</span>
    </div>
    <div class="stat">
      <span class="stat-label">Walls Hit:</span>
      <span class="stat-value" id="wallsHit">0</span>
    </div>
    <div class="stat">
      <span class="stat-label">Time:</span>
      <span class="stat-value" id="time">0s</span>
    </div>
    <div class="stat">
      <span class="stat-label">High Score:</span>
      <span class="stat-value" id="highScore">{{ profile.soloHighScore }}</span>
    </div>
  </div>

  <div id="gameOver">
    <h2>Game Over</h2>
    <div class="result">
      <div class="result-item">Walls Survived: <strong id="finalWalls">0</strong></div>
      <div class="result-item">Walls Hit: <strong id="finalHits">0</strong></div>
      <div class="result-item">Time: <strong id="finalTime">0s</strong></div>
      <div class="result-item">Coins Earned: <strong style="color:#10b981" id="coinsEarned">+0</strong></div>
      <div class="result-item">Penalties: <strong style="color:#ef4444" id="coinsLost">-0</strong></div>
      <div class="result-item" style="font-size:18px;margin-top:8px;">Net: <strong id="netCoins">0</strong></div>
      <div class="result-item">New Balance: <strong id="newBalance">0</strong></div>
    </div>
    <div>
      <button onclick="location.reload()">Play Again</button>
      <button onclick="location.href='/'">Dashboard</button>
    </div>
  </div>

  <script src="/static/js/game.js"></script>
</body>
</html>